!function(e){var t={};function l(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(o,r,function(t){return e[t]}.bind(null,r));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var o=()=>{const e=document.querySelector(".clubs-list"),t=e.querySelector("ul");e.addEventListener("click",()=>{""===t.style.display||"none"===t.style.display?t.style.display="block":t.style.display="none"})};var r=()=>{const e=document.querySelector("#totop"),t=document.querySelector("section").getBoundingClientRect().top;window.addEventListener("scroll",()=>{document.documentElement.scrollTop>t?e.style.display="block":e.style.display="none"})};var n=()=>{let e=[];document.querySelector(".open-popup")&&e.push(document.querySelector(".open-popup")),document.querySelector(".fixed-gift")&&e.push(document.querySelector(".fixed-gift")),document.querySelector(".callback-btn")&&e.push(document.querySelector(".callback-btn")),e.forEach(e=>{let t,l=document.querySelector(""+e.dataset.popup);const o=function(){t=requestAnimationFrame(o),l.style.opacity<1?l.style.opacity=+l.style.opacity+.05:cancelAnimationFrame(t)};e.addEventListener("click",()=>{console.log(e),document.documentElement.clientWidth>768?(l.style.opacity=0,l.style.display="block",requestAnimationFrame(o(l))):l.style.display="block"}),l.addEventListener("click",t=>{(t.target.closest(".close-btn")||t.target.closest(".close_icon")||t.target.closest(".overlay"))&&(l.style.display="none","fixed-gift"===e.classList.value&&(e.style.display="none"))})})};var c=()=>{if("Сеть фитнес клубов Тело"===document.title){const e=document.querySelector("#card_order"),t=document.querySelectorAll('[name="card-type"]'),l=e.querySelectorAll('[name="club-name"]'),o=document.querySelector('[name="promocode-name"]'),r=document.querySelector("#price-total"),n={mozaika:{1:1999,6:9990,9:13900,12:19900},schelkovo:{1:2999,6:14999,9:21999,12:24990}};r.textContent="1999",o.addEventListener("input",()=>{o.value=o.value.replace(/[^а-яёА-ЯЁ\d]/g,"")});const c=()=>{let e=0,c=0,a=1;l.forEach(e=>{e.checked&&(c=e.value)}),t.forEach(t=>{t.checked&&(e=+n[c][t.value])}),"ТЕЛО2019"===o.value&&(a=.7),r.textContent=Math.ceil(e*a)};e.addEventListener("change",e=>{"card-type"!==e.target.name&&"club-name"!==e.target.name&&"promocode-name"!==e.target.name||c()})}};var a=()=>{document.querySelector(".head-slider");const e=document.querySelector(".main-slider"),t=e.querySelectorAll(".slide");let l=0;console.log(e);setInterval(()=>{t[l].style.display="none",l++,l>=t.length-1&&(l=0),t[l].style.display="flex"},2e3)};var s=()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide"),l=e.querySelector(".slider-dots");for(let e=0;e<t.length;e++)l.insertAdjacentHTML("beforeend",'<li class="dot"></li>');l.querySelectorAll("li")[0].classList.add("slick-active");const o=l.querySelectorAll(".dot");let r,n=0;const c=(e,t,l)=>e[t].classList.remove(l),a=(e,t,l)=>e[t].classList.add(l),s=()=>{c(t,n,"slide-active"),c(o,n,"slick-active"),n++,n>=t.length&&(n=0),a(t,n,"slide-active"),a(o,n,"slick-active")},i=()=>{r=setInterval(s,3e3)};e.addEventListener("click",e=>{e.preventDefault(),e.target.matches(".slider-arrow, .dot")&&(c(t,n,"slide-active"),c(o,n,"slick-active"),e.target.matches(".next")?n++:e.target.matches(".prev")?n--:e.target.matches(".dot")&&o.forEach((t,l)=>{t===e.target&&(n=l)}),n>=t.length&&(n=0),n<0&&(n=t.length-1),a(t,n,"slide-active"),a(o,n,"slick-active"))}),e.addEventListener("mouseover",e=>{(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&clearInterval(r)}),e.addEventListener("mouseout",e=>{(e.target.matches(".slider-arrow")||e.target.matches(".dot"))&&i()}),i()};var i=()=>{document.querySelector("#services");const e=document.querySelector(".services-slider"),t=e.querySelectorAll(".slide");document.documentElement.clientWidth>=768?t.forEach(e=>{e.style.cssText="transform: translateX(0px); transition: all 0.5s"}):document.documentElement.clientWidth<768&&document.documentElement.clientWidth>=600?t.forEach(e=>{e.style.cssText="flex: 0 0 23.6%; transform: translateX(0px); transition: all 0.5s;"}):document.documentElement.clientWidth<600&&t.forEach(e=>{e.style.cssText="flex: 0 0 32.3%; transform: translateX(0px); transition: all 0.5s"});let l=0;const o=()=>{t.forEach(e=>{let t=+getComputedStyle(e).width.slice(0,-2),o=+getComputedStyle(e).marginRight.slice(0,-2);e.style.transform=`translateX(${-(t+o)*l}px)`})};e.addEventListener("click",e=>{e.target.closest(".next")&&l<5&&(l++,o()),e.target.closest(".prev")&&l>0&&(l--,o())})};var d=()=>{const e=document.querySelectorAll("form"),t=document.querySelector("#banner-form"),l=(t.querySelector("#check1"),t.querySelector('[name="name"]'),t.querySelector('[name="phone"]'),t.querySelector('[name="send"]'),document.querySelector("#thanks")),o=l.querySelector("h4"),r=l.querySelector("p");document.querySelectorAll('[name="name"]').forEach(e=>{e.addEventListener("input",()=>e.value=e.value.replace(/[^а-яёА-ЯЁ]/,""))}),document.querySelectorAll('[name="phone"]').forEach(e=>{e.addEventListener("input",()=>e.value=e.value.replace(/[^+0-9]/,""))});e.forEach(e=>{e.addEventListener("submit",n=>{n.preventDefault();const c=new FormData(t);let a={};c.forEach((e,t)=>a[t]=e),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(a).then(e=>{if(200!=e.status)throw new Error("Ошибка 200")}).catch(e=>{o.textContent="Оп!",r.textContent="Возникли непредвиденные обстоятельства"}).finally(()=>{e.querySelectorAll("input").forEach(e=>e.value="")}),e.closest("#callback_form")&&(document.querySelector("#callback_form").style.display="none"),l.style.display="block"})}),l.addEventListener("click",e=>{(e.target.closest(".overlay")||e.target.closest(".close_icon")||e.target.closest(".close-btn"))&&(l.style.display="none")})};(()=>{const e=document.querySelector(".menu-button").querySelector("img"),t=document.querySelector(".popup-menu"),l=document.querySelector(".top-menu"),o=document.querySelector(".head");e.addEventListener("click",()=>{t.style.display="flex"}),t.addEventListener("click",e=>{(e.target.closest("li")||e.target.closest(".close-menu-btn"))&&(t.style.display="none")}),document.documentElement.scrollTop>o.offsetHeight&&(l.style.position="fixed",o.style.marginBottom="59.66px");window.addEventListener("scroll",()=>{document.documentElement.scrollTop>o.offsetHeight?(l.style.position="fixed",o.style.marginBottom="59.66px"):(l.style.position="",o.style.marginBottom="")})})(),o(),r(),n(),c(),a(),s(),i(),d()}]);